<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Khata Mitra</title>

<style>
body{
  font-family:Poppins, sans-serif;
  background:#f5f5f5;
  margin:0;
  padding:15px;
}

h1{
  text-align:center;
  color:#6a1b9a;
}

.card{
  background:#fff;
  padding:12px;
  margin:10px 0;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}

button{
  background:#6a1b9a;
  color:#fff;
  border:none;
  padding:8px 12px;
  border-radius:8px;
}

.balance-red{color:#e53935;font-weight:bold;}
.balance-green{color:#2e7d32;font-weight:bold;}

  /* Floating Button */
.fab {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #0a84ff;
  color: white;
  font-size: 28px;
  width: 55px;
  height: 55px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  cursor: pointer;
}

/* Bottom Sheet */
.sheet {
  position: fixed;
  bottom: -100%;
  left: 0;
  width: 100%;
  height: 70%;
  background: white;
  transition: 0.3s;
  border-radius: 20px 20px 0 0;
  box-shadow: 0 -4px 10px rgba(0,0,0,0.2);
}

.sheet-content {
  padding: 15px;
}

.sheet.active {
  bottom: 0;
}

/* Tabs */
.tabs {
  display: flex;
  gap: 10px;
}

.tabs button {
  flex: 1;
  padding: 10px;
  border: none;
  background: #eee;
  border-radius: 10px;
}

.tabs .active {
  background: #0a84ff;
  color: white;
}

/* Tab Content */
.tab {
  display: none;
  margin-top: 15px;
}

.tab.active {
  display: block;
}

input {
  width: 100%;
  margin: 6px 0;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ddd;
}

.close {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  background: red;
  color: white;
  border: none;
  border-radius: 10px;
}
  .card{
  background:#fff;
  padding:12px;
  margin:8px;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
}
.card button{
  background:red;
  color:#fff;
  border:none;
  padding:6px 10px;
  border-radius:6px;
}
</style>
</head>

<body>

<h1>ðŸ“’ Khata Mitra</h1>

<div class="card">
  <input id="customerName" placeholder="Customer Name">
  <input id="phone" placeholder="Phone Number">
  <button onclick="addCustomer()">Add</button>
</div>

<div id="customerList"></div>

<!-- Floating Add Button -->
<div class="fab" onclick="openSheet()">+</div>

<!-- Bottom Sheet -->
<div id="bottomSheet" class="sheet">
  <div class="sheet-content">
    
    <div class="tabs">
      <button onclick="openTab('manual')" class="active">Manual</button>
      <button onclick="openTab('items')">Items</button>
      <button onclick="openTab('upload')">Upload</button>
    </div>

    <!-- Manual -->
    <div id="manual" class="tab active">
      <select id="entryType">
        <option value="udhar">Udhar</option>
        <option value="jama">Jama</option>
      </select>

      <input type="number" id="custAmount" placeholder="Amount">
      <input type="text" id="custNote" placeholder="Note">

      <button onclick="addEntry()">Add Entry</button>
    </div>

    <!-- Items -->
    <div id="items" class="tab">
      <input type="text" placeholder="Item Name">
      <input type="number" placeholder="Price">
      <button>Add Item</button>
    </div>

    <!-- Upload -->
    <div id="upload" class="tab">
      <input type="file">
      <button>Save Photo</button>
    </div>

    <button class="close" onclick="closeSheet()">Close</button>
  </div>
</div>

<!-- CUSTOMER DETAIL -->
<div id="customerDetail" style="display:none">
  <h2 id="cName"></h2>
  <p>Balance: â‚¹ <span id="cBalance"></span></p>

  <h3>History</h3>
  <div id="historyList"></div>

  <button onclick="exportPDF()">ðŸ“„ Export PDF</button>

  <label>
    <input type="checkbox" id="autoReminder"> Auto WhatsApp Reminder
  </label>

  <button onclick="sendReminder()">ðŸ“² WhatsApp Reminder</button>
  <button onclick="closeCustomer()">â¬… Back</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="app.js"></script>

</body>
</html>
